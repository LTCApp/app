<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="حسابي - سوبر ماركت">
    <meta name="theme-color" content="#E53935">
    <title>حسابي - سوبر ماركت</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;500;600;700&display=swap" rel="stylesheet">
<script src="https://sites.super.myninja.ai/_assets/ninja-daytona-script.js"></script>
</head>
<body>
    <!-- الهيدر -->
    <header class="app-header">
        <div class="header-top">
            <a href="index.html" class="back-button-header">
                <span>←</span>
            </a>
            <div class="header-title">
                <h1>حسابي</h1>
            </div>
            <div class="spacer"></div>
        </div>
    </header>

    <!-- محتوى الصفحة -->
    <main class="account-main">
        <!-- معلومات المستخدم -->
        <section class="user-profile-section">
            <div class="user-profile-card">
                <div class="user-avatar">
                    <span class="avatar-icon">👤</span>
                    <button class="edit-avatar-btn">📷</button>
                </div>
                <div class="user-info">
                    <h2 class="user-name" id="userName">اسم المستخدم</h2>
                    <p class="user-phone" id="userPhone">05xxxxxxxx</p>
                </div>
                <button class="edit-profile-btn" onclick="showEditProfile()">
                    <span>✏️</span>
                    <span>تعديل الملف الشخصي</span>
                </button>
            </div>
        </section>

        <!-- قائمة الخيارات -->
        <section class="account-options">
            <!-- الطلبات -->
            <div class="option-card" onclick="showOrders()">
                <div class="option-icon">📦</div>
                <div class="option-content">
                    <h3>طلباتي</h3>
                    <p>عرض وتتبع طلباتك</p>
                </div>
                <div class="option-arrow">←</div>
            </div>

            <!-- المفضلة -->
            <div class="option-card" onclick="showFavorites()">
                <div class="option-icon">❤️</div>
                <div class="option-content">
                    <h3>المفضلة</h3>
                    <p>المنتجات المفضلة لديك</p>
                </div>
                <div class="option-arrow">←</div>
            </div>

            <!-- العناوين -->
            <div class="option-card" onclick="showAddresses()">
                <div class="option-icon">📍</div>
                <div class="option-content">
                    <h3>عناويني</h3>
                    <p>إدارة عناوين التوصيل</p>
                </div>
                <div class="option-arrow">←</div>
            </div>

            <!-- طرق الدفع -->
            <div class="option-card" onclick="showPaymentMethods()">
                <div class="option-icon">💳</div>
                <div class="option-content">
                    <h3>طرق الدفع</h3>
                    <p>إدارة بطاقاتك</p>
                </div>
                <div class="option-arrow">←</div>
            </div>

            <!-- الإشعارات -->
            <div class="option-card" onclick="showNotifications()">
                <div class="option-icon">🔔</div>
                <div class="option-content">
                    <h3>الإشعارات</h3>
                    <p>إعدادات الإشعارات</p>
                </div>
                <div class="option-arrow">←</div>
            </div>

            <!-- المساعدة والدعم -->
            <div class="option-card" onclick="showSupport()">
                <div class="option-icon">❓</div>
                <div class="option-content">
                    <h3>المساعدة والدعم</h3>
                    <p>تواصل معنا</p>
                </div>
                <div class="option-arrow">←</div>
            </div>

            <!-- الشروط والأحكام -->
            <div class="option-card" onclick="showTermsPage()">
                <div class="option-icon">📄</div>
                <div class="option-content">
                    <h3>الشروط والأحكام</h3>
                    <p>سياسة الخصوصية</p>
                </div>
                <div class="option-arrow">←</div>
            </div>

            <!-- تسجيل الخروج -->
            <div class="option-card logout-card" onclick="handleLogout()">
                <div class="option-icon">🚪</div>
                <div class="option-content">
                    <h3>تسجيل الخروج</h3>
                    <p>الخروج من حسابك</p>
                </div>
                <div class="option-arrow">←</div>
            </div>
        </section>

        <!-- معلومات التطبيق -->
        <section class="app-info">
            <p>الإصدار 1.0.0</p>
            <p>© 2024 سوبر ماركت. جميع الحقوق محفوظة.</p>
        </section>
    </main>

    <!-- نافذة تعديل الملف الشخصي -->
    <div class="modal" id="editProfileModal" style="display: none;">
        <div class="modal-overlay" onclick="closeEditProfile()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2>تعديل الملف الشخصي</h2>
                <button class="modal-close" onclick="closeEditProfile()">×</button>
            </div>
            <div class="modal-body">
                <form id="editProfileForm" onsubmit="handleEditProfile(event)">
                    <div class="form-group">
                        <label for="editName">الاسم الكامل</label>
                        <div class="input-wrapper">
                            <span class="input-icon">👤</span>
                            <input 
                                type="text" 
                                id="editName" 
                                name="name" 
                                placeholder="أدخل اسمك الكامل"
                                required
                            >
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="editPhone">رقم الموبايل</label>
                        <div class="input-wrapper">
                            <span class="input-icon">📱</span>
                            <input 
                                type="tel" 
                                id="editPhone" 
                                name="phone" 
                                placeholder="05xxxxxxxx"
                                required
                                pattern="[0-9]{10}"
                                maxlength="10"
                            >
                        </div>
                    </div>

                    <button type="submit" class="auth-submit-btn">
                        <span>حفظ التغييرات</span>
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- نافذة الطلبات -->
    <div class="modal" id="ordersModal" style="display: none;">
        <div class="modal-overlay" onclick="closeOrders()"></div>
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>طلباتي</h2>
                <button class="modal-close" onclick="closeOrders()">×</button>
            </div>
            <div class="modal-body">
                <div class="orders-list" id="ordersList">
                    <!-- سيتم ملؤها ديناميكياً -->
                </div>
            </div>
        </div>
    </div>

    <!-- نافذة المفضلة -->
    <div class="modal" id="favoritesModal" style="display: none;">
        <div class="modal-overlay" onclick="closeFavorites()"></div>
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>المفضلة</h2>
                <button class="modal-close" onclick="closeFavorites()">×</button>
            </div>
            <div class="modal-body">
                <div class="favorites-list" id="favoritesList">
                    <!-- سيتم ملؤها ديناميكياً -->
                </div>
            </div>
        </div>
    </div>

    <!-- نافذة العناوين -->
    <div class="modal" id="addressesModal" style="display: none;">
        <div class="modal-overlay" onclick="closeAddresses()"></div>
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>عناويني</h2>
                <button class="modal-close" onclick="closeAddresses()">×</button>
            </div>
            <div class="modal-body">
                <button class="add-new-btn" onclick="showAddAddress()">
                    <span>➕</span>
                    <span>إضافة عنوان جديد</span>
                </button>
                <div class="addresses-list" id="addressesList">
                    <!-- سيتم ملؤها ديناميكياً -->
                </div>
            </div>
        </div>
    </div>

    <!-- نافذة إضافة عنوان -->
    <div class="modal" id="addAddressModal" style="display: none;">
        <div class="modal-overlay" onclick="closeAddAddress()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2>إضافة عنوان جديد</h2>
                <button class="modal-close" onclick="closeAddAddress()">×</button>
            </div>
            <div class="modal-body">
                <form id="addAddressForm" onsubmit="handleAddAddress(event)">
                    <div class="form-group">
                        <label for="addressTitle">عنوان الموقع</label>
                        <input type="text" id="addressTitle" placeholder="مثال: المنزل، العمل" required>
                    </div>
                    <div class="form-group">
                        <label for="addressCity">المدينة</label>
                        <input type="text" id="addressCity" placeholder="الرياض" required>
                    </div>
                    <div class="form-group">
                        <label for="addressDistrict">الحي</label>
                        <input type="text" id="addressDistrict" placeholder="النخيل" required>
                    </div>
                    <div class="form-group">
                        <label for="addressStreet">الشارع</label>
                        <input type="text" id="addressStreet" placeholder="شارع الملك فهد" required>
                    </div>
                    <div class="form-group">
                        <label for="addressBuilding">رقم المبنى</label>
                        <input type="text" id="addressBuilding" placeholder="1234" required>
                    </div>
                    <button type="submit" class="auth-submit-btn">
                        <span>حفظ العنوان</span>
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- نافذة طرق الدفع -->
    <div class="modal" id="paymentMethodsModal" style="display: none;">
        <div class="modal-overlay" onclick="closePaymentMethods()"></div>
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>طرق الدفع</h2>
                <button class="modal-close" onclick="closePaymentMethods()">×</button>
            </div>
            <div class="modal-body">
                <button class="add-new-btn" onclick="showAddCard()">
                    <span>➕</span>
                    <span>إضافة بطاقة جديدة</span>
                </button>
                <div class="payment-methods-list" id="paymentMethodsList">
                    <!-- سيتم ملؤها ديناميكياً -->
                </div>
            </div>
        </div>
    </div>

    <!-- نافذة إضافة بطاقة -->
    <div class="modal" id="addCardModal" style="display: none;">
        <div class="modal-overlay" onclick="closeAddCard()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2>إضافة بطاقة جديدة</h2>
                <button class="modal-close" onclick="closeAddCard()">×</button>
            </div>
            <div class="modal-body">
                <form id="addCardForm" onsubmit="handleAddCard(event)">
                    <div class="form-group">
                        <label for="cardNumber">رقم البطاقة</label>
                        <input type="text" id="cardNumber" placeholder="1234 5678 9012 3456" maxlength="19" required>
                    </div>
                    <div class="form-group">
                        <label for="cardName">اسم حامل البطاقة</label>
                        <input type="text" id="cardName" placeholder="الاسم كما هو مكتوب على البطاقة" required>
                    </div>
                    <div class="form-row-2">
                        <div class="form-group">
                            <label for="cardExpiry">تاريخ الانتهاء</label>
                            <input type="text" id="cardExpiry" placeholder="MM/YY" maxlength="5" required>
                        </div>
                        <div class="form-group">
                            <label for="cardCVV">CVV</label>
                            <input type="text" id="cardCVV" placeholder="123" maxlength="3" required>
                        </div>
                    </div>
                    <button type="submit" class="auth-submit-btn">
                        <span>حفظ البطاقة</span>
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- نافذة الإشعارات -->
    <div class="modal" id="notificationsModal" style="display: none;">
        <div class="modal-overlay" onclick="closeNotificationsModal()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2>إعدادات الإشعارات</h2>
                <button class="modal-close" onclick="closeNotificationsModal()">×</button>
            </div>
            <div class="modal-body">
                <div class="notification-settings">
                    <div class="setting-item">
                        <div class="setting-info">
                            <h3>إشعارات الطلبات</h3>
                            <p>تلقي إشعارات حول حالة طلباتك</p>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="orderNotifications" checked onchange="saveNotificationSettings()">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="setting-item">
                        <div class="setting-info">
                            <h3>إشعارات العروض</h3>
                            <p>تلقي إشعارات حول العروض الخاصة</p>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="offersNotifications" checked onchange="saveNotificationSettings()">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="setting-item">
                        <div class="setting-info">
                            <h3>إشعارات المنتجات الجديدة</h3>
                            <p>تلقي إشعارات عند إضافة منتجات جديدة</p>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="newProductsNotifications" onchange="saveNotificationSettings()">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- نافذة المساعدة والدعم -->
    <div class="modal" id="supportModal" style="display: none;">
        <div class="modal-overlay" onclick="closeSupportModal()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2>المساعدة والدعم</h2>
                <button class="modal-close" onclick="closeSupportModal()">×</button>
            </div>
            <div class="modal-body">
                <div class="support-options">
                    <a href="tel:+966501234567" class="support-option">
                        <span class="support-icon">📞</span>
                        <div class="support-info">
                            <h3>اتصل بنا</h3>
                            <p>+966 50 123 4567</p>
                        </div>
                    </a>
                    <a href="mailto:info@electronics.com" class="support-option">
                        <span class="support-icon">📧</span>
                        <div class="support-info">
                            <h3>البريد الإلكتروني</h3>
                            <p>info@electronics.com</p>
                        </div>
                    </a>
                    <a href="https://wa.me/966501234567" class="support-option" target="_blank">
                        <span class="support-icon">💬</span>
                        <div class="support-info">
                            <h3>واتساب</h3>
                            <p>تواصل معنا عبر واتساب</p>
                        </div>
                    </a>
                </div>
                <div class="faq-section">
                    <h3>الأسئلة الشائعة</h3>
                    <div class="faq-item">
                        <h4>كيف يمكنني تتبع طلبي؟</h4>
                        <p>يمكنك تتبع طلبك من خلال قسم "طلباتي" في حسابك</p>
                    </div>
                    <div class="faq-item">
                        <h4>ما هي طرق الدفع المتاحة؟</h4>
                        <p>نقبل الدفع عند الاستلام، البطاقات الائتمانية، وApple Pay</p>
                    </div>
                    <div class="faq-item">
                        <h4>كم تستغرق عملية التوصيل؟</h4>
                        <p>عادة ما يستغرق التوصيل من 30-60 دقيقة</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- نافذة الشروط والأحكام -->
    <div class="modal" id="termsModal" style="display: none;">
        <div class="modal-overlay" onclick="closeTermsModal()"></div>
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>الشروط والأحكام</h2>
                <button class="modal-close" onclick="closeTermsModal()">×</button>
            </div>
            <div class="modal-body">
                <div class="terms-content">
                    <h3>1. الشروط العامة</h3>
                    <p>باستخدامك لهذا التطبيق، فإنك توافق على الالتزام بهذه الشروط والأحكام.</p>
                    
                    <h3>2. استخدام الخدمة</h3>
                    <p>يجب عليك استخدام الخدمة بطريقة قانونية ومسؤولة.</p>
                    
                    <h3>3. الحساب الشخصي</h3>
                    <p>أنت مسؤول عن الحفاظ على سرية معلومات حسابك.</p>
                    
                    <h3>4. الطلبات والدفع</h3>
                    <p>جميع الطلبات تخضع للتوافر والتأكيد من قبلنا.</p>
                    
                    <h3>5. سياسة الإرجاع</h3>
                    <p>يمكنك إرجاع المنتجات خلال 7 أيام من تاريخ الاستلام.</p>
                    
                    <h3>6. سياسة الخصوصية</h3>
                    <p>نحن نحترم خصوصيتك ونحمي بياناتك الشخصية.</p>
                    
                    <h3>7. التواصل</h3>
                    <p>للاستفسارات، يرجى التواصل معنا عبر البريد الإلكتروني أو الهاتف.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- القائمة السفلية -->
    <nav class="bottom-nav">
        <a href="index.html" class="nav-item">
            <span class="nav-icon">🏠</span>
            <span class="nav-label">الرئيسية</span>
        </a>
        <a href="#" class="nav-item">
            <span class="nav-icon">🔍</span>
            <span class="nav-label">البحث</span>
        </a>
        <a href="#" class="nav-item">
            <span class="nav-icon">⚡</span>
            <span class="nav-label">العروض</span>
        </a>
        <a href="#" class="nav-item">
            <span class="nav-icon">❤️</span>
            <span class="nav-label">المفضلة</span>
        </a>
        <a href="account.html" class="nav-item active">
            <span class="nav-icon">👤</span>
            <span class="nav-label">حسابي</span>
        </a>
    </nav>

    <script src="script.js"></script>
       <script src="account-protection.js"></script>
</body>
</html>