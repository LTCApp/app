<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ø®ØªØ¨Ø§Ø± Ù†Ø¸Ø§Ù… ØªØ¬Ù‡ÙŠØ² Ø§Ù„Ø£ÙˆØ±Ø¯Ø±Ø§Øª</title>
    <link rel="stylesheet" href="order-fulfillment-styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .test-panel {
            position: fixed;
            top: 10px;
            right: 10px;
            background: #fff;
            border: 2px solid #007bff;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            z-index: 10000;
            max-width: 300px;
        }
        .test-status {
            margin: 5px 0;
            padding: 5px;
            border-radius: 4px;
        }
        .test-pass { background: #d4edda; color: #155724; }
        .test-fail { background: #f8d7da; color: #721c24; }
        .test-pending { background: #fff3cd; color: #856404; }
    </style>
</head>
<body>
    <!-- Ù„ÙˆØ­Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± -->
    <div class="test-panel">
        <h4>ğŸ”§ ÙØ­Øµ Ø§Ù„Ù†Ø¸Ø§Ù…</h4>
        <div id="test-css" class="test-status test-pending">â³ ØªØ­Ù…ÙŠÙ„ CSS...</div>
        <div id="test-data-manager" class="test-status test-pending">â³ Ù…Ø¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...</div>
        <div id="test-reports" class="test-status test-pending">â³ Ù…ÙˆÙ„Ø¯ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±...</div>
        <div id="test-main-system" class="test-status test-pending">â³ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ...</div>
        <button id="run-test-btn" onclick="runSystemTest()">ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ÙØ­Øµ</button>
    </div>

    <div class="main-container">
        <!-- Header Section -->
        <header class="system-header">
            <div class="header-left">
                <div class="logo-section">
                    <i class="fas fa-shopping-cart"></i>
                    <h1>Ù†Ø¸Ø§Ù… ØªØ¬Ù‡ÙŠØ² Ø§Ù„Ø£ÙˆØ±Ø¯Ø±Ø§Øª - Ø§Ø®ØªØ¨Ø§Ø±</h1>
                </div>
                <div class="live-stats">
                    <div class="stat-item pending">
                        <i class="fas fa-clock"></i>
                        <span id="pending-count">0</span>
                        <label>Ù…Ø¹Ù„Ù‚</label>
                    </div>
                    <div class="stat-item active">
                        <i class="fas fa-spinner"></i>
                        <span id="active-count">0</span>
                        <label>Ù†Ø´Ø·</label>
                    </div>
                    <div class="stat-item completed">
                        <i class="fas fa-check"></i>
                        <span id="completed-count">0</span>
                        <label>Ù…ÙƒØªÙ…Ù„</label>
                    </div>
                </div>
            </div>
            <div class="header-right">
                <div class="operator-info">
                    <i class="fas fa-user"></i>
                    <span id="operator-name">Ù…Ø´Ø±Ù Ø§Ù„Ù†Ø¸Ø§Ù…</span>
                </div>
                <div class="current-time" id="current-time">00:00:00</div>
                <button class="logout-btn" onclick="window.location.href='order-fulfillment-login.html'">
                    <i class="fas fa-sign-out-alt"></i>
                    ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <div class="orders-board">
            <!-- Pending Orders -->
            <div class="order-column" id="pending-col">
                <h2>Ø·Ù„Ø¨Ø§Øª Ù…Ø¹Ù„Ù‚Ø© <span class="count" id="pending-count-col">0</span></h2>
                <div class="order-list" id="pending-list">
                    <div class="order-card high-priority">
                        <div class="order-header">
                            <span class="order-id">TEST-001</span>
                            <span class="priority high">Ø¹Ø§Ù„ÙŠ</span>
                            <span class="time-stamp">Ù…Ù†Ø° 5 Ø¯Ù‚Ø§Ø¦Ù‚</span>
                        </div>
                        <div class="customer-info">
                            <i class="fas fa-user"></i>
                            <span>Ø¹Ù…ÙŠÙ„ ØªØ¬Ø±ÙŠØ¨ÙŠ</span>
                        </div>
                        <div class="order-items">
                            <div class="item">Ø­Ù„ÙŠØ¨ Ã— 2</div>
                            <div class="item">Ø®Ø¨Ø² Ã— 1</div>
                        </div>
                        <div class="order-footer">
                            <span class="total">45.50 Ø±ÙŠØ§Ù„</span>
                            <button class="action-btn primary">Ø¨Ø¯Ø¡ Ø§Ù„ØªØ¬Ù‡ÙŠØ²</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Preparing Orders -->
            <div class="order-column" id="preparing-col">
                <h2>Ù‚ÙŠØ¯ Ø§Ù„ØªØ¬Ù‡ÙŠØ² <span class="count" id="preparing-count-col">0</span></h2>
                <div class="order-list" id="preparing-list"></div>
            </div>

            <!-- Ready Orders -->
            <div class="order-column" id="ready-col">
                <h2>Ø¬Ø§Ù‡Ø² Ù„Ù„ØªØ³Ù„ÙŠÙ… <span class="count" id="ready-count-col">0</span></h2>
                <div class="order-list" id="ready-list"></div>
            </div>

            <!-- Completed Orders -->
            <div class="order-column" id="completed-col">
                <h2>Ù…ÙƒØªÙ…Ù„ <span class="count" id="completed-count-col">0</span></h2>
                <div class="order-list" id="completed-list"></div>
            </div>
        </div>
    </div>

    <!-- Ø§Ø®ØªØ¨Ø§Ø± ØªØ¯Ø±ÙŠØ¬ÙŠ Ù„Ù„Ù…ÙƒÙˆÙ†Ø§Øª -->
    <script>
        console.log('ğŸ”„ Ø¨Ø¯Ø¡ ÙØ­Øµ Ø§Ù„Ù†Ø¸Ø§Ù…...');
        
        // ÙØ­Øµ CSS
        function testCSS() {
            try {
                const testEl = document.createElement('div');
                testEl.className = 'order-card';
                document.body.appendChild(testEl);
                const styles = window.getComputedStyle(testEl);
                document.body.removeChild(testEl);
                
                if (styles.padding || styles.margin) {
                    updateTestStatus('test-css', 'pass', 'âœ… CSS Ù…Ø­Ù…Ù„');
                    return true;
                } else {
                    updateTestStatus('test-css', 'fail', 'âŒ CSS ØºÙŠØ± Ù…Ø­Ù…Ù„');
                    return false;
                }
            } catch (error) {
                updateTestStatus('test-css', 'fail', 'âŒ Ø®Ø·Ø£ ÙÙŠ CSS: ' + error.message);
                return false;
            }
        }

        // ÙØ­Øµ Ù…Ø¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        function testDataManager() {
            try {
                if (typeof OrderDataManager !== 'undefined') {
                    const dm = new OrderDataManager();
                    if (dm.productCatalog) {
                        updateTestStatus('test-data-manager', 'pass', 'âœ… Ù…Ø¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¬Ø§Ù‡Ø²');
                        return true;
                    }
                }
                updateTestStatus('test-data-manager', 'fail', 'âŒ Ù…Ø¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØºÙŠØ± Ù…Ø­Ù…Ù„');
                return false;
            } catch (error) {
                updateTestStatus('test-data-manager', 'fail', 'âŒ Ø®Ø·Ø£ ÙÙŠ Ù…Ø¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: ' + error.message);
                return false;
            }
        }

        // ÙØ­Øµ Ù…ÙˆÙ„Ø¯ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
        function testReportsGenerator() {
            try {
                if (typeof OrderReportsGenerator !== 'undefined') {
                    const rg = new OrderReportsGenerator();
                    if (rg.reportTemplates) {
                        updateTestStatus('test-reports', 'pass', 'âœ… Ù…ÙˆÙ„Ø¯ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø¬Ø§Ù‡Ø²');
                        return true;
                    }
                }
                updateTestStatus('test-reports', 'fail', 'âŒ Ù…ÙˆÙ„Ø¯ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ØºÙŠØ± Ù…Ø­Ù…Ù„');
                return false;
            } catch (error) {
                updateTestStatus('test-reports', 'fail', 'âŒ Ø®Ø·Ø£ ÙÙŠ Ù…ÙˆÙ„Ø¯ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±: ' + error.message);
                return false;
            }
        }

        // ÙØ­Øµ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
        function testMainSystem() {
            try {
                if (typeof OrderFulfillmentSystem !== 'undefined') {
                    updateTestStatus('test-main-system', 'pass', 'âœ… Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ø¬Ø§Ù‡Ø²');
                    return true;
                } else {
                    updateTestStatus('test-main-system', 'fail', 'âŒ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ØºÙŠØ± Ù…Ø­Ù…Ù„');
                    return false;
                }
            } catch (error) {
                updateTestStatus('test-main-system', 'fail', 'âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ: ' + error.message);
                return false;
            }
        }

        // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
        function updateTestStatus(elementId, status, message) {
            const element = document.getElementById(elementId);
            element.className = `test-status test-${status}`;
            element.textContent = message;
        }

        // ØªØ´ØºÙŠÙ„ Ø§Ù„ÙØ­Øµ Ø§Ù„ÙƒØ§Ù…Ù„
        function runSystemTest() {
            console.log('ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© ÙØ­Øµ Ø§Ù„Ù†Ø¸Ø§Ù…...');
            
            setTimeout(() => testCSS(), 100);
            setTimeout(() => testDataManager(), 200);
            setTimeout(() => testReportsGenerator(), 300);
            setTimeout(() => testMainSystem(), 400);
        }

        // ØªØ´ØºÙŠÙ„ Ø§Ù„ÙØ­Øµ Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
        window.addEventListener('load', () => {
            setTimeout(runSystemTest, 500);
        });

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆÙ‚Øª
        function updateTime() {
            const now = new Date();
            document.getElementById('current-time').textContent = now.toLocaleTimeString('ar-SA');
        }
        setInterval(updateTime, 1000);
        updateTime();
    </script>

    <!-- ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø¨Ø§Ù„ØªØ±ØªÙŠØ¨ -->
    <script src="order-data-manager.js"></script>
    <script src="order-reports-generator.js"></script>
    <script src="order-fulfillment-script.js"></script>
</body>
</html>
