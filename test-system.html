<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุงุฎุชุจุงุฑ ูุธุงู ุชุฌููุฒ ุงูุฃูุฑุฏุฑุงุช</title>
    <link rel="stylesheet" href="order-fulfillment-styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .test-panel {
            position: fixed;
            top: 10px;
            right: 10px;
            background: #fff;
            border: 2px solid #007bff;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            z-index: 10000;
            max-width: 300px;
        }
        .test-status {
            margin: 5px 0;
            padding: 5px;
            border-radius: 4px;
        }
        .test-pass { background: #d4edda; color: #155724; }
        .test-fail { background: #f8d7da; color: #721c24; }
        .test-pending { background: #fff3cd; color: #856404; }
    </style>
</head>
<body>
    <!-- ููุญุฉ ุงูุงุฎุชุจุงุฑ -->
    <div class="test-panel">
        <h4>๐ง ูุญุต ุงููุธุงู</h4>
        <div id="test-css" class="test-status test-pending">โณ ุชุญููู CSS...</div>
        <div id="test-data-manager" class="test-status test-pending">โณ ูุฏูุฑ ุงูุจูุงูุงุช...</div>
        <div id="test-reports" class="test-status test-pending">โณ ูููุฏ ุงูุชูุงุฑูุฑ...</div>
        <div id="test-main-system" class="test-status test-pending">โณ ุงููุธุงู ุงูุฑุฆูุณู...</div>
        <button id="run-test-btn" onclick="runSystemTest()">๐ ุฅุนุงุฏุฉ ุงููุญุต</button>
    </div>

    <div class="main-container">
        <!-- Header Section -->
        <header class="system-header">
            <div class="header-left">
                <div class="logo-section">
                    <i class="fas fa-shopping-cart"></i>
                    <h1>ูุธุงู ุชุฌููุฒ ุงูุฃูุฑุฏุฑุงุช - ุงุฎุชุจุงุฑ</h1>
                </div>
                <div class="live-stats">
                    <div class="stat-item pending">
                        <i class="fas fa-clock"></i>
                        <span id="pending-count">0</span>
                        <label>ูุนูู</label>
                    </div>
                    <div class="stat-item active">
                        <i class="fas fa-spinner"></i>
                        <span id="active-count">0</span>
                        <label>ูุดุท</label>
                    </div>
                    <div class="stat-item completed">
                        <i class="fas fa-check"></i>
                        <span id="completed-count">0</span>
                        <label>ููุชูู</label>
                    </div>
                </div>
            </div>
            <div class="header-right">
                <div class="operator-info">
                    <i class="fas fa-user"></i>
                    <span id="operator-name">ูุดุฑู ุงููุธุงู</span>
                </div>
                <div class="current-time" id="current-time">00:00:00</div>
                <button class="logout-btn" onclick="window.location.href='order-fulfillment-login.html'">
                    <i class="fas fa-sign-out-alt"></i>
                    ุชุณุฌูู ุฎุฑูุฌ
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <div class="orders-board">
            <!-- Pending Orders -->
            <div class="order-column" id="pending-col">
                <h2>ุทูุจุงุช ูุนููุฉ <span class="count" id="pending-count-col">0</span></h2>
                <div class="order-list" id="pending-list">
                    <div class="order-card high-priority">
                        <div class="order-header">
                            <span class="order-id">TEST-001</span>
                            <span class="priority high">ุนุงูู</span>
                            <span class="time-stamp">ููุฐ 5 ุฏูุงุฆู</span>
                        </div>
                        <div class="customer-info">
                            <i class="fas fa-user"></i>
                            <span>ุนููู ุชุฌุฑูุจู</span>
                        </div>
                        <div class="order-items">
                            <div class="item">ุญููุจ ร 2</div>
                            <div class="item">ุฎุจุฒ ร 1</div>
                        </div>
                        <div class="order-footer">
                            <span class="total">45.50 ุฑูุงู</span>
                            <button class="action-btn primary">ุจุฏุก ุงูุชุฌููุฒ</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Preparing Orders -->
            <div class="order-column" id="preparing-col">
                <h2>ููุฏ ุงูุชุฌููุฒ <span class="count" id="preparing-count-col">0</span></h2>
                <div class="order-list" id="preparing-list"></div>
            </div>

            <!-- Ready Orders -->
            <div class="order-column" id="ready-col">
                <h2>ุฌุงูุฒ ููุชุณููู <span class="count" id="ready-count-col">0</span></h2>
                <div class="order-list" id="ready-list"></div>
            </div>

            <!-- Completed Orders -->
            <div class="order-column" id="completed-col">
                <h2>ููุชูู <span class="count" id="completed-count-col">0</span></h2>
                <div class="order-list" id="completed-list"></div>
            </div>
        </div>
    </div>

    <!-- ุงุฎุชุจุงุฑ ุชุฏุฑูุฌู ููููููุงุช -->
    <script>
        console.log('๐ ุจุฏุก ูุญุต ุงููุธุงู...');
        
        // ูุญุต CSS
        function testCSS() {
            try {
                const testEl = document.createElement('div');
                testEl.className = 'order-card';
                document.body.appendChild(testEl);
                const styles = window.getComputedStyle(testEl);
                document.body.removeChild(testEl);
                
                if (styles.padding || styles.margin) {
                    updateTestStatus('test-css', 'pass', 'โ CSS ูุญูู');
                    return true;
                } else {
                    updateTestStatus('test-css', 'fail', 'โ CSS ุบูุฑ ูุญูู');
                    return false;
                }
            } catch (error) {
                updateTestStatus('test-css', 'fail', 'โ ุฎุทุฃ ูู CSS: ' + error.message);
                return false;
            }
        }

        // ูุญุต ูุฏูุฑ ุงูุจูุงูุงุช
        function testDataManager() {
            try {
                if (typeof OrderDataManager !== 'undefined') {
                    const dm = new OrderDataManager();
                    if (dm.productCatalog) {
                        updateTestStatus('test-data-manager', 'pass', 'โ ูุฏูุฑ ุงูุจูุงูุงุช ุฌุงูุฒ');
                        return true;
                    }
                }
                updateTestStatus('test-data-manager', 'fail', 'โ ูุฏูุฑ ุงูุจูุงูุงุช ุบูุฑ ูุญูู');
                return false;
            } catch (error) {
                updateTestStatus('test-data-manager', 'fail', 'โ ุฎุทุฃ ูู ูุฏูุฑ ุงูุจูุงูุงุช: ' + error.message);
                return false;
            }
        }

        // ูุญุต ูููุฏ ุงูุชูุงุฑูุฑ
        function testReportsGenerator() {
            try {
                if (typeof OrderReportsGenerator !== 'undefined') {
                    const rg = new OrderReportsGenerator();
                    if (rg.reportTemplates) {
                        updateTestStatus('test-reports', 'pass', 'โ ูููุฏ ุงูุชูุงุฑูุฑ ุฌุงูุฒ');
                        return true;
                    }
                }
                updateTestStatus('test-reports', 'fail', 'โ ูููุฏ ุงูุชูุงุฑูุฑ ุบูุฑ ูุญูู');
                return false;
            } catch (error) {
                updateTestStatus('test-reports', 'fail', 'โ ุฎุทุฃ ูู ูููุฏ ุงูุชูุงุฑูุฑ: ' + error.message);
                return false;
            }
        }

        // ูุญุต ุงููุธุงู ุงูุฑุฆูุณู
        function testMainSystem() {
            try {
                if (typeof OrderFulfillmentSystem !== 'undefined') {
                    updateTestStatus('test-main-system', 'pass', 'โ ุงููุธุงู ุงูุฑุฆูุณู ุฌุงูุฒ');
                    return true;
                } else {
                    updateTestStatus('test-main-system', 'fail', 'โ ุงููุธุงู ุงูุฑุฆูุณู ุบูุฑ ูุญูู');
                    return false;
                }
            } catch (error) {
                updateTestStatus('test-main-system', 'fail', 'โ ุฎุทุฃ ูู ุงููุธุงู ุงูุฑุฆูุณู: ' + error.message);
                return false;
            }
        }

        // ุชุญุฏูุซ ุญุงูุฉ ุงูุงุฎุชุจุงุฑ
        function updateTestStatus(elementId, status, message) {
            const element = document.getElementById(elementId);
            element.className = `test-status test-${status}`;
            element.textContent = message;
        }

        // ุชุดุบูู ุงููุญุต ุงููุงูู
        function runSystemTest() {
            console.log('๐ ุฅุนุงุฏุฉ ูุญุต ุงููุธุงู...');
            
            setTimeout(() => testCSS(), 100);
            setTimeout(() => testDataManager(), 200);
            setTimeout(() => testReportsGenerator(), 300);
            setTimeout(() => testMainSystem(), 400);
        }

        // ุชุดุบูู ุงููุญุต ุนูุฏ ุงูุชุญููู
        window.addEventListener('load', () => {
            setTimeout(runSystemTest, 500);
        });

        // ุชุญุฏูุซ ุงูููุช
        function updateTime() {
            const now = new Date();
            document.getElementById('current-time').textContent = now.toLocaleTimeString('ar-SA');
        }
        setInterval(updateTime, 1000);
        updateTime();
    </script>

    <!-- ุชุญููู ุงูููููุงุช ุจุงูุชุฑุชูุจ -->
    <script src="order-data-manager.js"></script>
    <script src="order-reports-generator.js"></script>
    <script src="order-fulfillment-script.js"></script>
</body>
</html>
